{"ast":null,"code":"import React from'react';import Webcam from\"react-webcam\";import{useChess}from\"../contexts/ChessContext\";import LoadPGN from'./LoadPGN';import{useRef}from'react';import Spinner from'./Spinner';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function GetImage(){var webcamRef=useRef(null);var _useChess=useChess(),apiLoad=_useChess.apiLoad,fens=_useChess.fens,loading=_useChess.loading,file=_useChess.file,dispatch=_useChess.dispatch,OnClick=_useChess.OnClick,isBoard=_useChess.isBoard,takePhoto=_useChess.takePhoto,resetFile=_useChess.resetFile;// Upload Image\nfunction handleChange(e){console.log(e.target.files);var image_file=URL.createObjectURL(e.target.files[0]);dispatch({type:\"file/set\",payload:image_file});dispatch({type:\"imgSrc/set\",payload:image_file});}return/*#__PURE__*/_jsx(_Fragment,{children:apiLoad?/*#__PURE__*/_jsx(Spinner,{}):/*#__PURE__*/_jsx(_Fragment,{children:isBoard?/*#__PURE__*/_jsxs(\"div\",{children:[loading?/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 flex items-center justify-center\",children:[/*#__PURE__*/_jsx(\"progress\",{className:\"progress-bar w-full\",max:\"100\"}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-4\",children:\"Processing...\"})]}):null,/*#__PURE__*/_jsx(LoadPGN,{fens:fens})]}):/*#__PURE__*/_jsx(\"div\",{children:file?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"row flex items-center\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Uploaded Chess Scoresheet:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-4 col-md-10 col-sm-10\"}),/*#__PURE__*/_jsx(\"img\",{alt:\"scoresheet\",src:file,className:\"col-lg-4 col-md-10 col-sm-10\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"btn-container mt-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return OnClick();},className:\"rounded bg-slate-300 px-4 py-2 text-black\",children:\"\\uD83D\\uDD2E DO MAGIC!\"}),/*#__PURE__*/_jsx(\"button\",{className:\"rounded bg-slate-300 px-4 py-2 text-black\",onClick:resetFile,children:\"Try again\"})]})]})}):/*#__PURE__*/_jsx(\"div\",{className:\"row camera flex items-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row flex items-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"upload btn-container mt-4\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Upload Chess Scoresheet:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:handleChange,className:\"rounded bg-slate-300 px-4 py-2 text-black\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row \"})]})})})})})});}export default GetImage;","map":{"version":3,"names":["React","Webcam","useChess","LoadPGN","useRef","Spinner","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","GetImage","webcamRef","_useChess","apiLoad","fens","loading","file","dispatch","OnClick","isBoard","takePhoto","resetFile","handleChange","e","console","log","target","files","image_file","URL","createObjectURL","type","payload","children","className","max","alt","src","onClick","onChange"],"sources":["/root/code/amandaaurora/chess-pgn-react/src/components/GetImage.js"],"sourcesContent":["import React from 'react'\nimport Webcam from \"react-webcam\";\nimport { useChess } from \"../contexts/ChessContext\";\nimport LoadPGN from './LoadPGN';\nimport { useRef } from 'react';\nimport Spinner from './Spinner';\n\n\nfunction GetImage() {\n\n  const webcamRef = useRef(null);\n\n  const {apiLoad, fens,  loading, file, dispatch, OnClick, isBoard, takePhoto, resetFile} = useChess();\n\n  // Upload Image\n  function handleChange(e) {\n    console.log(e.target.files);\n    const image_file = URL.createObjectURL(e.target.files[0])\n    dispatch({type: \"file/set\", payload: image_file});\n    dispatch({type: \"imgSrc/set\", payload: image_file});\n\n}\n\nreturn (\n  <>\n    {apiLoad ? (\n      <Spinner />\n    ) : (\n      <>\n        {isBoard ? (\n          <div>\n            {loading ? (\n              <div className=\"mt-4 flex items-center justify-center\">\n                <progress className=\"progress-bar w-full\" max=\"100\"></progress>\n                <div className=\"ml-4\">Processing...</div>\n              </div>\n            ) : null}\n            <LoadPGN fens={fens} />\n          </div>\n        ) : (\n          <div>\n            {file ? (\n              <>\n                <div className='row flex items-center'>\n                  <h2>Uploaded Chess Scoresheet:</h2>\n                  <div className='col-lg-4 col-md-10 col-sm-10'></div>\n                  <img alt=\"scoresheet\" src={file} className='col-lg-4 col-md-10 col-sm-10' />\n                  <div className=\"btn-container mt-4\">\n                    <button\n                      onClick={() => OnClick()}\n                      className=\"rounded bg-slate-300 px-4 py-2 text-black\"\n                    >\n                      ðŸ”® DO MAGIC!\n                    </button>\n                    <button className=\"rounded bg-slate-300 px-4 py-2 text-black\" onClick={resetFile}>Try again</button>\n                  </div>\n                </div>\n              </>\n            ) : (\n              <div className=\"row camera flex items-center\">\n                {/* <h2>Take a Photo</h2>\n                <div>\n                  <Webcam\n                    height={600}\n                    width={600}\n                    ref={webcamRef}\n                    screenshotFormat=\"image/png\"\n                  />\n                  <div className=\"btn-container mt-4\">\n                    <button\n                      onClick={() => takePhoto({ webcamRef })}\n                      className=\"rounded bg-slate-300 px-4 py-2 text-black\"\n                    >\n                      Capture photo\n                    </button>\n                  </div> */}\n                {/* </div> */}\n\n                <div className=\"row flex items-center\">\n                  <div className=\"upload btn-container mt-4\">\n                    <h2>Upload Chess Scoresheet:</h2>\n                    <input\n                      type=\"file\"\n                      onChange={handleChange}\n                      className='rounded bg-slate-300 px-4 py-2 text-black'\n                    />\n                    <div className='row '>\n                      {/* Add any additional elements or components here */}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            )}\n          </div>\n        )}\n      </>\n    )}\n  </>\n);\n            }\n\nexport default GetImage\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}